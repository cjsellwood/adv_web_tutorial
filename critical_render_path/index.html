<!--
HTML
  #1 Load <style> in <head>
  #2 Load <script> right before /body
CSS
  #3 Load only what is needed
  #4 Above the fold loading
  #5 Media attributes
  #6 Less specificity
JS
  #7 Load scripts asynchronously
  #8 Defer loading of scripts
  #9 Minimize DOM manipulation
  #10 Avoid long running Javascript
-->

<!DOCTYPE html>
<html>
  <head>
    <title>Critical Render Path</title>

    <!-- External CSS-->
    <link rel="stylesheet" href="./style.css" media="all" />
    <link rel="stylesheet" href="./style2.css" media="only screen and (min-width:500px)" />
  </head>
  <body>
    <h1>How Fast?</h1>
    <button>Click Me</button>

    <!-- Above the fold loading-->
    <h2 class="important">Important above the fold content</h2>
    <h2 class="secondary">
      Below the fold content. You won't see this until after the page loads.
    </h2>
    <script type="text/javascript">
      const loadStyleSheet = (src) => {
        if (document.createStylesheet) {
          document.createStylesheet(src);
        } else {
          const stylesheet = document.createElement("link");
          stylesheet.href = src;
          stylesheet.type = "text/css";
          stylesheet.rel = "stylesheet";
          document.getElementsByTagName("head")[0].appendChild(stylesheet);
        }
      };

      window.onload = function () {
        console.log("window done!");
        loadStyleSheet("./style3.css");
      };
    </script>

    <img
      src="https://5.imimg.com/data5/GR/PD/MY-4659120/img-20161230-wa0170-500x500.jpg"
    />

    <!-- Render blocking and Parser blocking JS -->
    <!--   <script>
    var button = document.querySelector("button");
    button.style.color = "red";
  </script> -->
    <script src="./script.js"></script>
    <script src="./script2.js" async></script>
    <script src="./script3.js"></script>
    <script>
      const button = document.querySelector("button");
      button.addEventListener("click", function () {
        button.style.color = "red";
        alert("Stop Clicking Me!");
      });
    </script>
  </body>
</html>
